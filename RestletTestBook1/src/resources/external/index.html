<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="/sample/resources/bootstrap.min.css">
</head>
<body>
  <button onClick="login();">
    Login to OAuth Server
  </button>
  
  <button class="authentication-check">
    Check Authentication
  </button>
  <div>
    Authenticated: <span class="auth-message"></span>
  </div>
  
  <script src="jquery.js"></script>
  <script type="text/javascript" src="/sample/resources/bootstrap.min.js"></script>
  <script type="text/javascript" src="/sample/resources/jquery.cookie.js"></script>
  <script>
      $(document).ready(function() {
          alert("acces_token:"+$.cookie('access_token'));
      alert("token_type:"+$.cookie('token_type'));
      });
    var login = function() {
      window.open("${ url }", "_blank", "height=400,width=600");
    };

    $('.authentication-check').click(function() {
      console.log($.cookie('access_token'));
      alert("acces_token:"+$.cookie('access_token'));
      alert("token_type:"+$.cookie('token_type'));
      $.ajax({
        dataType: "jsonp",
        jsonpCallback: "mycallback",
        url: "/oauth/restricted-resource",
        data: {
          'access_token': $.cookie('access_token'),
          'token_type': $.cookie('token_type')
        },
        success: function(data) {
            
          alert("arguments:"+data.username + "result " + data.result);
        }
      });
    });
  </script>
</body>
</html>